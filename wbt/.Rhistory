aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.0001, formula = 'y ~ sin(x)')
ggplot(head(wbt.day.mean,10000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.0001, formula = 'y ~ cos(x)')
ggplot(head(wbt.day.mean,10000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.0001, formula = y ~ cos(x))
ggplot(head(wbt.day.mean,10000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.0001, method=loess)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.0001, method=loess)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(span = 0.5, method=loess)
View(wbt.day.mean)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(method=loess, span = 0.5)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(method=loess, span = 0.1)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.5) +
stat_smooth(method=loess, span = -1
)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
stat_smooth(method=loess, span = -1)
/lm
?lm
?lns
?nls
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
stat_smooth(method=loess, span = -1)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
stat_smooth(method=loess, span = -1, se = F)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
stat_smooth(method=loess, span = 0
, se = F)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
stat_smooth(method=loess, span = 1
, se = F)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
geom_smooth(method=loess, span = 1
, se = F)
ggplot(head(wbt.day.mean,2000)) +
aes(x = date,
y = value) +
geom_point(alpha = 0.5) +
geom_smooth(method=lm, span = 1
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_smooth(method=lm, span = 1
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method=lm, span = 1
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method=gam, span = 1
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method='gam', span = 1
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method=sin, span = 1
, se = F)
?spectr
?spectrum
spectrum(wbt.day.mean)
lh
spectrum(lh)
spectrum(lh, spans = 3)
spectrum(ldeaths)
plot(lh)
spectrum(lh)
plot(ldeaths)
spectrum(ldeaths)
spectrum(ldeaths, spans = c(5,7), log = "dB", ci = 0.8)
spectrum(wbt.day.mean)
t <- spectrum(wbt.day.mean)
t$freq
1/t$freq[t$spec == max(t$spec)]
max(t$spec)
t$freq[t$spec == max(t$spec)]
length(is.na(t$freq0)
length(is.na(t$freq))
length(is.na(t))
length(is.na(wbt))
length(is.na(wbt.day.mean))
is.na(wbt.day.mean)
length(is.na(wbt.day.mean) == T)
is.na(wbt.day.mean) == T
is.na(wbt.day.mean$value) == T
wbt.day.mean[is.na(wbt.day.mean$value) == T]
wbt.day.mean[is.na(wbt.day.mean$date) == T]
t
t$freq
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method='gam', span = 1
, se = F)
# Convert Char to Date
wbt$wbt_date = as.Date(wbt$wbt_date)
wbt <- read.csv(wbt.path)
# Convert Char to Date
wbt$wbt_date = as.Date(wbt$wbt_date)
wbt.day.mean <- aggregate(value ~ date, data = wbt, mean)
wbt %<>%
rename(
date = wbt_date,
time = wbt_time,
value = wet_bulb_temperature
)
wbt.day.mean <- aggregate(value ~ date, data = wbt, mean)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(method='gam', span = 0.2
, se = F)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth()
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2)
library(zoo)
library(tidyquant)
install.packages("tidyquant")
library(tidyquant)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma()
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 365)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 30)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 30, aes(colour = "red"))
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 30, aes(colour = "red",
size = 2))
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 30, aes(colour = "red",
size = 0.3))
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2) +
geom_ma(n = 30, aes(colour = "red",
size = 0.01))
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(span = 0.2, alpha = 0.3) +
geom_ma(n = 30)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(alpha = 0.3) +
geom_ma(n = 30)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(alpha = 0.1) +
geom_ma(n = 30)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(aes(alpha = 0.1)) +
geom_ma(n = 30)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(alpha = 0.1) +
geom_ma(n = 100)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(alpha = 0.1) +
geom_ma(n = 365)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_smooth(alpha = 0.1) +
geom_ma(n = 364)
ggplot(wbt.day.mean) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
ggplot(head(wbt.day.mean,200)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
ggplot(head(wbt.day.mean,1000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
ggplot(head(wbt.day.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
wbt.day.mean$month <- month(wbt.day.mean$date)
wbt.day.mean$year <- year(wbt.day.mean$date)
wbt.day.mean$day <- day(wbt.day.mean$date)
wbt <- read.csv(wbt.path)
# Convert Char to Date
wbt$wbt_date = as.Date(wbt$wbt_date)
wbt %<>%
rename(
date = wbt_date,
time = wbt_time,
value = wet_bulb_temperature
)
wbt.day.mean$year <- year(wbt.day.mean$date)
wbt.day.mean$month <- month(wbt.day.mean$date)
wbt.day.mean$day <- day(wbt.day.mean$date)
wbt.path <- "C:/Users/johnc/Documents/Projects/Data/singapore/wbt/main.csv"
wbt <- read.csv(wbt.path)
# Convert Char to Date
wbt$wbt_date = as.Date(wbt$wbt_date)
wbt %<>%
rename(
date = wbt_date,
time = wbt_time,
value = wet_bulb_temperature
)
wbt$year <- year(wbt.day.mean$date)
wbt$month <- month(wbt.day.mean$date)
wbt$year <- year(wbt$date)
wbt$month <- month(wbt$date)
wbt$day <- day(wbt$date)
wbt.day.mean <-
aggregate(value ~ year + day, data = wbt)
wbt.day.mean <-
aggregate(value ~ year + day, data = wbt)
wbt.day.mean <-
aggregate(value ~ year + day, data = wbt, mean)
?as.Date
wbt.day.mean <-
aggregate(value ~ year + day - date, data = wbt, mean)
wbt.day.mean <-
aggregate(value ~ year + day - date, data = wbt, mean, drop = F)
wbt.day.mean <-
aggregate(value ~ year + day, data = wbt, mean, drop = F)
wbt.day.mean <-
aggregate(value ~ year + day, data = wbt, mean, drop = T)
wbt.day.mean <-
aggregate(cbind(value, date) ~ year + day, data = wbt, mean)
ggplot(head(wbt.day.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
wbt.day.mean <-
aggregate(cbind(value, date) ~ year + month, data = wbt, mean)
wbt.month.mean <-
aggregate(cbind(value, date) ~ year + month, data = wbt, mean)
ggplot(head(wbt.day.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
ggplot(head(wbt.month.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 364)
ggplot(head(wbt.month.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 3, colour = red)
ggplot(head(wbt.month.mean,3000)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 3, colour = 'red')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 3, colour = 'red') +
geom_ma(n = 12, colour = 'blue')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 3, colour = 'red', linetype = 'solid') +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3) +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3, linetype = 'dotted') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_line(alpha = 0.3, linetype = 'dotted') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid') +
geom_line(alpha = 0.3, linetype = 'dotted') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2)
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_line(alpha = 0.3, linetype = 'dotted')
View(wbt.month.mean)
View(wbt.day.mean)
ggplot(head(wbt.month.mean,100)) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_line(alpha = 1, linetype = 'dotted')
ggplot(head(wbt.month.mean,50)) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid') +
geom_ma(n = 3, colour = 'red', linetype = 'solid', alpha = 0.2) +
geom_line(alpha = 1, linetype = 'dotted')
ggplot(head(wbt.month.mean,500)) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 1, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 3, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 5, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 12, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 13, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 24, colour = 'blue', linetype = 'solid')
ggplot(wbt.month.mean) +
aes(x = date,
y = value) +
geom_ma(n = 1, colour = 'blue', linetype = 'solid')
wbt.year.mean <-
aggregate(cbind(value, date) ~ year, data = wbt, mean)
ggplot(wbt.year.mean) +
aes(x = date,
y = value) +
geom_ma(n = 1, colour = 'blue', linetype = 'solid')
wbt.year.mean <-
aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), n = length(x) ))
ggplot(wbt.year.mean) +
aes(x = date,
y = value) +
geom_ma(n = 1, colour = 'blue', linetype = 'solid')
View(wbt.year.mean)
wbt.year.mean <-
aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), n = length(x) ))
wbt.year.mean <-
do.call(aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), n = length(x) )))
wbt.year.mean <-
do.call(data.frame,
aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), n = length(x) )))
wbt.year.mean <-
do.call(data.frame,
aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), std = stdev(x) )))
wbt.year.mean <-
do.call(data.frame,
aggregate(cbind(value, date) ~ year,
data = wbt,
FUN = function(x) c(mn = mean(x), std = StdDev(x) )))
wbt.year.mean <-
aggregate(cbind(value, date) ~ year,
data = wbt,
mean)
ggplot(wbt.year.mean) +
aes(x = date,
y = value) +
geom_ma(n = 1, colour = 'blue', linetype = 'solid')
?source
source("reader.R")
source("reader.R")
View(wbt)
source("reader.R") # Read Source
source("libs.R") # Load Libraries
source("reader.R") # Read Source
